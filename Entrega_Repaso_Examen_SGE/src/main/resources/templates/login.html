<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org"
                xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:replace="layouts/header::head"></head>
<body>
	<div th:replace="layouts/cabecera::cabecera"></div>
	<nav th:replace="layouts/menu::menu(login)"></nav>	
    <div class="container-fluid h-custom">
      <div class="row d-flex justify-content-center">
        <!-- Lado Izquierdo -->
        <div style="text-align: right;" class="col-md-8 col-lg-6 col-xl-6">
          <img src="/img/img_login.webp" class="img-fluid" alt="Imagen de login" />
        </div><!-- Lado Izquierdo -->
        <!-- Lado Derecho -->
        <div class="col-md-8 col-lg-6 col-xl-6">
          <div id="loginbox" style="margin-top: 50px;" class="mainbox col-md-6 col-md-offset-3 col-sm-8 col-sm-offset-2">
              <div class="card border-primary">
                  <div class="card-header text-white bg-primary"><div class="card-title">Accede a tu panel personal</div></div>
                  <div style="padding-top: 30px" class="card-body">
                    <div style="display: none" id="login-alert" class="alert alert-danger col-sm-12"></div>
                      <form id="loginform" method="POST" th:action="@{/auth/login-post}" role="form">
                          <div class="input-group flex-nowrap">
                              <span class="input-group-text" id="addon-wrapping"><i class="bi bi-person-fill"></i></span>
                              <input id="login-username" type="text" class="form-control" name="username" placeholder="Email" aria-label="Username" aria-describedby="addon-wrapping" />
                          </div><br>
                          <div class="input-group flex-nowrap">
                              <span class="input-group-text" id="addon-wrapping"><i class="bi bi-lock-fill"></i></span>
                              <input id="login-password" type="password" class="form-control" name="password" placeholder="Password" aria-label="Password" aria-describedby="addon-wrapping" />
                          </div><br>
                          <div style="margin-top: 10px" class="form-group">
                              <div class="col-sm-12 controls">
                                  <button id="btn-login" type="submit" class="btn btn-primary">Login</button>
                              </div>
                          </div><br>
                          <div class="form-group">
                              <div class="col-md-12 control">
                                  <div style="border-top: 1px solid #888; padding-top: 15px;">
                                      ¿Todavía no tienes una cuenta? ¡Puedes crearla ahora mismo <a href="#" onClick="$('#loginbox').hide(); $('#signupbox').show()">pulsando aquí! </a>
                                  </div>
                              </div>
                          </div>
                      </form>
                  </div>
              </div>
          </div><!-- loginbox -->
          <div id="signupbox" style="display: none; margin-top: 50px" class="mainbox col-md-6 col-md-offset-3 col-sm-8 col-sm-offset-2">
            <div class="card border-success">
              <div class="card-header text-white bg-success">
                <div class="card-title">Crear una nueva cuenta</div>
              </div>
              <div class="card-body">
                <form id="signupform" method="POST" enctype="multipart/form-data" th:action="@{/auth/register}" th:object="${usuario}">
                  <div id="signupalert" style="display: none" class="alert alert-danger"><p>Error:</p><span></span></div>
                  <div class="mb-3 row">
                    <label for="email" class="col-md-3 control-label">Email</label>
                    <div class="col-md-9">
                      <input type="text" class="form-control" name="email" placeholder="Email" th:field="*{email}">
                    </div>
                  </div>
                  <div class="mb-3 row">
                    <label for="nombre" class="col-md-3 control-label">Nombre</label>
                    <div class="col-md-9">
                      <input type="text" class="form-control" name="nombre" placeholder="Nombre" th:field="*{nombre}">
                    </div>
                  </div>
                  <div class="mb-3 row">
                    <label for="apellidos" class="col-md-3 control-label">Apellidos</label>
                    <div class="col-md-9">
                      <input type="text" class="form-control" name="apellidos" placeholder="Apellidos" th:field="*{apellidos}">
                    </div>
                  </div>
                  <div class="mb-3 row">
                    <label for="password" class="col-md-3 control-label">Password</label>
                    <div class="col-md-9">
                      <input type="password" class="form-control" name="passwd" placeholder="Password" th:field="*{password}">
                    </div>
                  </div>
                  <div class="form-group">
                    <div class="offset-md-3 col-md-6">
                      <button id="btn-signup" type="submit" class="btn btn-success">Continuar</button>
                      <span>&nbsp;o&nbsp;</span> 
                      <a href="" onclick="$('#signupbox').hide(); $('#loginbox').show()" 
                                  type="button" class="btn btn-light">Volver al formulario de login</a>
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div><!-- signupbox -->
        </div><!-- Lado Derecho -->
      </div><!-- row -->
    </div><!-- container-fluid -->
	<div th:replace="layouts/footer::footer"></div>
</body>

</html>